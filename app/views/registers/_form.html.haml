= simple_form_for @register, html: { class: 'form-horizontal', role: 'form' }, defaults: { input_html: { class: 'form-control' } }  do |f|
  .form-group
    .col-sm-9
    = f.label :code, class: "col-sm-1"
    .col-sm-2
      = f.input_field :code, readonly: true
    = f.hidden_field :user_id

  = f.error_notification
  %legend 'Identificación de los Titulares'
  /= field_set_tag 'Identificación de los Titulares' do
  = render 'holder', f: f

  = field_set_tag 'Identificación de estado civil y domicilio' do
    .form-group
      = f.label :civil_union, class: "col-sm-2"
      .col-sm-4
        = f.input_field :civil_union_id, as: :select, collection: CivilUnion.all
      = f.label :residence, class: "col-sm-2"
      .col-sm-4
        = f.input_field :residence
    .form-group
      = f.label :address, class: "col-sm-2"
      .col-sm-10
        = f.input_field :address
    .form-group
      = f.label :community, class: "col-sm-2"
      .col-sm-4
        = f.input_field :community_id, as: :select, collection: Community.all
      = f.label :department, class: "col-sm-2"
      .col-sm-4
        = f.input_field :department_id, as: :select, collection: Department.all
    .form-group
      = f.label :geodesic_ns, class: "col-sm-2"
      .col-sm-4
        = f.input_field :geodesic_ns
      = f.label :geodesic_ns, class: "col-sm-2"
      .col-sm-4
        = f.input_field :geodesic_ew

  = field_set_tag 'Identificación de los demás miembros de la familia' do
    = field_set_tag 'Hijos e Hijas' do
      #sons
        = render 'son_aggregate', f: f, resources: :sons
        %a.btn.btn-success.btn-large.add_son
          %i.icon-white.icon-plus-sign
          adicionar hijo/a

    = field_set_tag 'Agregados y Agregadas' do
      #aggregates
        = render 'son_aggregate', f: f, resources: :aggregates
        %a.btn.btn-success.btn-large.add_aggregate
          %i.icon-white.icon-plus-sign
          adicionar agregado/a

  .form-actions
    %input.btn.btn-primary.pull-right{type: "submit", value: "Crear Registro"}

:javascript
  var register = new Runpa.Views.Registers.NewView()

%form.form-horizontal{role: "form"}
  .form-group
    %label.col-sm-2.control-label{for: "inputEmail3"} Email
    .col-sm-10
      %input#inputEmail3.form-control{placeholder: "Email", type: "email"}/
  .form-group
    %label.col-sm-2.control-label{for: "inputPassword3"} Password
    .col-sm-10
      %input#inputPassword3.form-control{placeholder: "Password", type: "password"}/
  .form-group
    .col-sm-offset-2.col-sm-10
      .checkbox
        %label
          %input{type: "checkbox"}/
          Remember me
  .form-group
    .col-sm-offset-2.col-sm-10
      %button.btn.btn-default{type: "submit"} Sign in